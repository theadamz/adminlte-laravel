import{e,M as i,s as n,f as s,r as o,g as r}from"./general-DAK3ebw_.js";const u=document.querySelector("#formInput");function l(){_formValidation=$(u).validate({rules:{username:{required:!0,regex:_regExpForUsername},email:{required:!0,email:!0},name:{required:!0}},submitHandler:d})}function m(){e("#username"),e("#email"),e("#name"),e("#emp_code")}function c(){f()}function d(){i.Confirm("Are you sure want to save the changes?").then(a=>{n(!0,"#save"),_data2Send=$("#formInput").serialize(),s(`${_baseURL}/change-profile`,"POST",_data2Send).then(t=>{[200].includes(t.status)?Toast.fire({icon:"success",title:t.statusText,text:t.data.message}):(i.HtmlNotification(o(t.data),`${t.status} - ${t.statusText}`),r(t.data.errors)),n(!1,"#save")}).catch(t=>{i.Notification(t.toString()),n(!1,"#save")})}).catch(a=>{a&&console.log(a)})}function f(){s(`${_baseURL}/profile`,"GET").then(a=>{if([200].includes(a.status)){const t=a.data.data;$("#username").val(t.username),$("#email").val(t.email),$("#name").val(t.name),$("#emp_code").val(t.emp_code)}else i.HtmlNotification(o(a.data),`${a.status} - ${a.statusText}`)}).catch(a=>{a&&console.log(a)})}document.addEventListener("DOMContentLoaded",function(){m(),l(),c()});
